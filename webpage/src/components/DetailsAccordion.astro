---

import Arrow from '../assets/theme-images/icon-arrow.svg'

const { question, answer, important = false } = Astro.props

---

<details name="faq"
class:list={[
  "group transition-colors w-full shadow-md rounded-lg bs-h3 relative",
  important
    ? "border border-blue-500/40 bg-gradient-to-br from-blue-600/15 via-blue-500/5 to-transparent backdrop-blur-sm"
    : "bg-bs-surface-2 hover:bg-bs-surface-3 open:bg-bs-surface-3"
]}>

  <!-- Ribbon / Label for important -->
  { important && <span class="absolute top-2 right-3 text-[10px] tracking-widest font-semibold text-blue-300/80">IMPORTANT</span> }

  <!-- Summary -->
  <summary class="flex gap-3 justify-between items-center p-6 py-5">
    <span class="select-none" set:html={ question } />
    <span>
      <Arrow class:list={["opacity-70 h-4 w-4 transition -rotate-90 group-open:rotate-90 ease-bs-bounce duration-1000", important && "text-blue-300"]} height="16" width="25" />
    </span>
  </summary>

  <!-- Content -->
  <div class="anim-wrapper max-w-none">
    <div set:html={ answer } class="p-6 pt-0" />
  </div>

</details>

<style>
summary::-webkit-details-marker { display: none }

details {
  @media (prefers-reduced-motion: no-preference) { interpolate-size: allow-keywords; }
  &::details-content { block-size: 0; opacity: 0; overflow-y: clip; transition: content-visibility 1s allow-discrete, opacity 1s, block-size 1s var(--ease-bs-bounce); }
  &[open]::details-content { block-size: auto; opacity: 1; }
}
</style>
